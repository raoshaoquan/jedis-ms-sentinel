apply plugin: 'java'
apply plugin: 'idea'
apply plugin: 'maven'

group = 'com.github.penggle'
version = '1.0.0'
sourceCompatibility = 1.7
targetCompatibility = 1.7

ext.versions = [
	junit: '4.11',
	slf4j: '1.7.7',
	logback: '1.1.2',
	jedis: '2.8.0'
]

[compileJava, javadoc, compileTestJava]*.options*.encoding = "UTF-8"

jar {
    manifest {
        attributes 'Implementation-Title': 'jedis-ms-sentinel', 'Implementation-Version': version
    }
}

repositories {
    mavenCentral()
}

dependencies {
    compile(
	    "org.slf4j:slf4j-api:${versions.slf4j}",
	    "ch.qos.logback:logback-core:${versions.logback}",
	    "ch.qos.logback:logback-classic:${versions.logback}",
		"redis.clients:jedis:${versions.jedis}"
    )
	
    testCompile(
		"junit:junit:${versions.junit}"
	)
}

//参见Part 2， 为项目生成**.jar/**-javadoc.jar/**-sources.jar  
task javadocJar(type: Jar, dependsOn: javadoc) {  
    classifier = 'javadoc'  
    from 'build/docs/javadoc'  
}

task sourcesJar(type: Jar) {
	classifier = 'sources'
	from sourceSets.main.allSource
}

artifacts {
	archives jar
	//archives javadocJar
	//archives sourcesJar
}
